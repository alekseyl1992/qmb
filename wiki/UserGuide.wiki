#summary Руководство пользователя

*QMB* - Queueing Model Builder, программа, предназначенная для создания, редактирования, симуляции и сбора статистики систем массового обслуживания (СМО).

https://qmb.googlecode.com/svn/trunk/help/screenshots/sm/preview.png

* Содержание *
<wiki:toc max_depth="3" />

= Назначение продукта =
Основная задача QMB - симуляция и сбор статистики по модели СМО.

= Особенности продукта =
  * QMB поддерживает работу с моделью как в графическом так и в текстовом виде.
  * Возможна работа одновременно с несколькими моделями

= Системные требования =
  * ОС Windows / Linux / Mac OS / Android
  * Поддержка OpenGL
  * 50 МБ места на диске

= Использование продукта =
Взаимодействие с QMB проходит 3 стадии:
  # Создание и редактирование модели
  # Симуляция модели
  # Анализ собранной статистики

== Создание и редактирование модели ==
Эта стадия работы может выполняться в двух режимах:
  * Графический режим
  * Текстовый режим (XML код)

Запустив программу, вы попадёте на домашнюю страницу со списком возможный действий (Создать/Открыть модель и т.п.) - слева и списком последних открытых проектов - справа.

https://qmb.googlecode.com/svn/trunk/help/screenshots/sm/homewidget.png

=== Графический режим ===
Работа с моделью производиться на вкладке Модель.
На вкладке присутсвуют 2 области: список элементов модели (слева) и основная рабочая область, на которой отображается модель - Сцена.

https://qmb.googlecode.com/svn/trunk/help/screenshots/sm/scene.png

==== Элементы модели ====

Для того чтобы добавить элемент к модели, необходимо перетащить его из списка элементов на сцену.
Затем его можно перетаскивать левой кнопкой мыши.
У каждого элемента есть свойства, для доступа к ним нужно нажать ПКМ на интересующем элементе и в появившемся контекстном меню выбрать пункт Свойства.
Удалить элемент со сцены можно либо выбрав пункт удалить в контекстном меню, либо выделив его и нажав Delete на клавиатуре.

https://qmb.googlecode.com/svn/trunk/help/screenshots/sm/contextmenu.png

Возможно выделить сразу несколько элементов на сцене. Для это просто зажмите ЛКМ на свободном месте сцены и выделите интересующую область модели.

https://qmb.googlecode.com/svn/trunk/help/screenshots/sm/selection.png

==== Связи ====

Добавление связей между элементами на сцене:
Зажмите ЛКМ на любой чёрной точке на элементе, от которого должны идти запросы, и отпустите на том элементе, к которому должны идти запросы.

Удаление связей производиться аналогично удалению элементов: выделите связь и нажмите Delete, или выберите пункт меню "Удалить" в контекстном меню.

=== Текстовый режим ===
Работа с моделью производиться на вкладке Код.

https://qmb.googlecode.com/svn/trunk/help/screenshots/sm/code.png

==== Синтаксис ====
Первые две строки кода любой созданной/загруженной модели:
{{{
<?xml version="1.0" encoding="Windows-1251"?>
<!DOCTYPE qmodel>
}}}
являются служебными. Их изменение может привести к падению программы.

Любой логический элемент модели имеет следующую структуру в файле .qm:
{{{
< название_элемента имя_параметра1=значение1 ... />
}}}
Количество параметров зависит от типа элемента. Для элемента типа "Link" набор параметров может быть таким:
{{{
<Link fromID="1" toID="1" from="Generator" to="Queue"/>
}}}
а для элемента "Generator" следующим:
{{{
<Generator x="-434" y="-130" period="500" num_of_reqs="10" id="1"/>
}}}

В настоящий момент единственным способом редактирования свойств логических элемент является текстовый режим. Поэтому ниже представлено описание параметров логических элементов.

==== Описание некоторых параметров элементов ====

 * Положение на форме
Положение элемента на форме определяется координатами, заданными в параметрах "x", "y". Любой видимый на форме элемент обладает данными параметрами. Изменение этих значений в коде отразится на непосредственном размещении этих объектов на форме и наоборот.

 * ID
Каждый логический элемент своего типа имеет собственный порядковый номер. Параметр "id" хранит его.

 * Период
Параметр "period" хранит информацию о периоде действий того или иного элемента. Значение задано в миллисекундах.

 * Количество создаваемых запросов
Параметр "num_of_reqs" определяет количество запросов, которые будет создавать тот или иной элемент типа "Generator"

 * Параметры элемента "Link"
Элементы данного типа представлены на форме стрелками. Этот элемент хранит информацию о том, как связана пара элементов. Параметры соответствующие: "fromID", "toID" - ID элементов, "from", "to" - типы связываемых элементов.

=== Настройки симуляции ===
При необходимости можно настроить время симуляции и его масштаб относительно реального на вкладке Настройки.

https://qmb.googlecode.com/svn/trunk/help/screenshots/sm/options.png

=== Сохранение модели ===
Сохранить модель можно через основное меню программы.
Для его вызова нажмите на стрелочку на кнопке QMB, находящейся в верхнем правом углу окна программы.
Нажатие на основную часть этой кнопки откроет домашнюю (стартовую) страничку программы в новой вкладке.

== Симуляция ==
Для запуска симуляции нажмите кнопку Старт в нижнем правом углу окна программы.
Появиться окно Лог симуляции, в которое будет выводиться информация о передвижении по модели каждого сообщения.

https://qmb.googlecode.com/svn/trunk/help/screenshots/sm/simulation.png

Окно разбито на 3 столбца:
  * Время - момент события в формате чч:мм:сс.мсек
  * Запрос - номер запроса в формате: НомерГенератора:НомерЗапроса
  * Статус - состояние сообщения в данный момент времени.

Симуляция завершиться сама при истечении указанного на вкладке Настройки времени симуляции.
Также её можно прервать, нажав кнопку Стоп, или просто, закрыв модель.

_Внимание: на данный момент в модуле logic присутсвует баг, из-за чего симуляцию нужно останавливать вручную_

По завершению симуляции будет предложено показать собранную статистику.

== Статистика==
На данный момент не реализовано. 

= Техническая информация =
При разработке QMB использованы следующие технологии и программные средства:
  * Qt 4.8.0
    * Qt SDK 2.4.1
    * Qt Creator 
    * Qt Designer
  * C++ ISO/IEC 14882:2011
  * MinGW 4.7.0
  * Visual Studio 11 Beta
  * XML
  * SVN (subversion)

= Обозначения = 
|| *Сокращение* || *Описание* ||
|| ЛКМ || Левая кнопка мыши ||
|| ПКМ || Правая  кнопка мыши ||
|| [http://ru.wikipedia.org/wiki/XML XML] || eXtensible Markup Language ||
|| QMB || Queueing Model Builder ||
|| СМО || Система массового обслуживания ||